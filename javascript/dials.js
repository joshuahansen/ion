function newDial(t){function e(){if(0!=t.dataset.type){s.clearRect(0,0,i,l),s.beginPath(),s.strokeStyle=t.bgcolor,s.lineWidth=30,s.arc(i/2,l/2,i/2.5,0,2*Math.PI,!1),s.stroke();var e=d*Math.PI/180;s.beginPath(),s.strokeStyle=r,s.lineWidth=30,s.arc(i/2,l/2,i/2.5,0-90*Math.PI/180,e-90*Math.PI/180,!1),s.stroke()}2!=t.dataset.type&&4!=t.dataset.type&&6!=t.dataset.type&&8!=t.dataset.type||(s.clearRect(0,0,i,l),s.beginPath(),s.strokeStyle=r,s.lineWidth=30,s.arc(i/2,l/2,i/2.5,Math.PI,0,!1),s.stroke()),s.fillStyle=r,s.font="25px bebas",text=t.dataset.displayValue,text_width=s.measureText(text).width,s.fillText(text,i/2-text_width/2,l/2+15)}function a(){d==n&&clearInterval(c),d<n?d++:d--,e()}var i,l,h=document.getElementById(t.canvasID),s=h.getContext("2d");t.width<t.height?(h.style.width="100%",i=h.width=h.offsetWidth,l=h.height=h.width):(h.style.height="100%",l=h.height=h.offsetHeight,i=h.width=h.height);var d=0,n=0,o=0;if(console.log("DEBUG: "+t.dataset.value),console.log("DEBUG: "+t.dataset.warningLevel),t.dataset.value>=t.dataset.warningLevel)r=t.warningColor;else var r=t.color;var c;void 0!=typeof c&&clearInterval(c),n=Math.round(t.dataset.value/t.dataset.maxValue*360),isNaN(n)&&(n=d),o=n-d,c=setInterval(a,1e3/o)}